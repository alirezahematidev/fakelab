"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[618],{8453(e,r,a){a.d(r,{R:()=>l,x:()=>i});var s=a(6540);const n={},t=s.createContext(n);function l(e){const r=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),s.createElement(t.Provider,{value:r},e.children)}},8642(e,r,a){a.r(r),a.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"guides/runtime-api","title":"Runtime API","description":"Fakelab provides a runtime API that enables your frontend or Node environment to communicate with the running Fakelab mock server.","source":"@site/docs/guides/runtime-api.md","sourceDirName":"guides","slug":"/guides/runtime-api","permalink":"/fakelab/docs/guides/runtime-api","draft":false,"unlisted":false,"editUrl":"https://github.com/alirezahematidev/fakelab/docs/guides/runtime-api.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Faker Annotations","permalink":"/fakelab/docs/guides/faker-annotations"},"next":{"title":"Database Mode","permalink":"/fakelab/docs/guides/database-mode"}}');var n=a(4848),t=a(8453);const l={sidebar_position:2},i="Runtime API",d={},c=[{value:"Installation",id:"installation",level:2},{value:"<code>fakelab.url()</code>",id:"fakelaburl",level:2},{value:"<code>fakelab.fetch()</code>",id:"fakelabfetch",level:2},{value:"Signature",id:"signature",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Basic Example",id:"basic-example",level:3},{value:"With TypeScript Types",id:"with-typescript-types",level:3},{value:"Database API",id:"database-api",level:2},{value:"<code>database.get()</code>",id:"databaseget",level:3},{value:"<code>database.post()</code>",id:"databasepost",level:3},{value:"<code>database.seed()</code>",id:"databaseseed",level:3},{value:"Seed Strategies",id:"seed-strategies",level:4},{value:"<code>database.flush()</code>",id:"databaseflush",level:3},{value:"Integration Examples",id:"integration-examples",level:2},{value:"React Example",id:"react-example",level:3},{value:"Vue Example",id:"vue-example",level:3},{value:"Next.js Example",id:"nextjs-example",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"runtime-api",children:"Runtime API"})}),"\n",(0,n.jsx)(r.p,{children:"Fakelab provides a runtime API that enables your frontend or Node environment to communicate with the running Fakelab mock server."}),"\n",(0,n.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,n.jsxs)(r.p,{children:["The runtime API is available through the ",(0,n.jsx)(r.code,{children:"fakelab/browser"})," module:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { fakelab } from "fakelab/browser";\n'})}),"\n",(0,n.jsx)(r.p,{children:"Or enable it as a global object:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import "fakelab/browser";\r\n\r\n// Now fakelab is available globally\r\nconst users = await fakelab.fetch("User", 10);\n'})}),"\n",(0,n.jsx)(r.h2,{id:"fakelaburl",children:(0,n.jsx)(r.code,{children:"fakelab.url()"})}),"\n",(0,n.jsx)(r.p,{children:"Get the base URL of the running Fakelab server."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'const baseUrl = fakelab.url();\r\n// e.g. "http://localhost:50000/api"\n'})}),"\n",(0,n.jsx)(r.h2,{id:"fakelabfetch",children:(0,n.jsx)(r.code,{children:"fakelab.fetch()"})}),"\n",(0,n.jsx)(r.p,{children:"Fetch mock data from the Fakelab server by TypeScript interface/type name."}),"\n",(0,n.jsx)(r.h3,{id:"signature",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"fakelab.fetch<T>(name: string, count?: number): Promise<T>\n"})}),"\n",(0,n.jsx)(r.h3,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Name"}),(0,n.jsx)(r.th,{children:"Type"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"name"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:"Interface/Type name"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"count"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"number"})}),(0,n.jsx)(r.td,{children:"Number of items to generate (optional)"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"basic-example",children:"Basic Example"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { fakelab } from "fakelab/browser";\r\n\r\n// Fetch a single User\r\nconst user = await fakelab.fetch("User");\r\nconsole.log(user);\r\n\r\n// Fetch multiple Users\r\nconst users = await fakelab.fetch("User", 10);\r\nconsole.log(users);\r\n\r\n// Get an empty array (use negative count)\r\nconst emptyUsers = await fakelab.fetch("User", -1);\r\nconsole.log(emptyUsers); // []\n'})}),"\n",(0,n.jsx)(r.h3,{id:"with-typescript-types",children:"With TypeScript Types"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { fakelab } from "fakelab/browser";\r\nimport type { User } from "./types/user";\r\n\r\nconst users = await fakelab.fetch<User[]>("User", 5);\r\n// users is typed as User[]\n'})}),"\n",(0,n.jsx)(r.h2,{id:"database-api",children:"Database API"}),"\n",(0,n.jsx)(r.p,{children:"When database mode is enabled, you can use the database API to persist and manage mock data."}),"\n",(0,n.jsx)(r.h3,{id:"databaseget",children:(0,n.jsx)(r.code,{children:"database.get()"})}),"\n",(0,n.jsx)(r.p,{children:"Retrieve data from the database."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { database } from "fakelab/browser";\r\n\r\nconst users = await database.get("User");\r\nconsole.log(users);\n'})}),"\n",(0,n.jsx)(r.h3,{id:"databasepost",children:(0,n.jsx)(r.code,{children:"database.post()"})}),"\n",(0,n.jsx)(r.p,{children:"Insert fresh data into the database."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { database } from "fakelab/browser";\r\n\r\n// Insert a single User\r\nawait database.post("User");\r\n\r\n// Insert multiple Users\r\nawait database.post("User", 10);\n'})}),"\n",(0,n.jsx)(r.h3,{id:"databaseseed",children:(0,n.jsx)(r.code,{children:"database.seed()"})}),"\n",(0,n.jsx)(r.p,{children:"Seed the database with initial data."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { database } from "fakelab/browser";\r\n\r\nawait database.seed("User", {\r\n  count: 10,\r\n  strategy: "once", // or "reset" or "merge"\r\n});\n'})}),"\n",(0,n.jsx)(r.h4,{id:"seed-strategies",children:"Seed Strategies"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"reset"}),": Removes all existing data and recreates it from scratch"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"once"}),": Seeds data only if the database is empty"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"merge"}),": Inserts new records and updates existing ones (limited to 1000 records per table)"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"databaseflush",children:(0,n.jsx)(r.code,{children:"database.flush()"})}),"\n",(0,n.jsx)(r.p,{children:"Clear all data from a specific table."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { database } from "fakelab/browser";\r\n\r\nawait database.flush("User");\n'})}),"\n",(0,n.jsx)(r.h2,{id:"integration-examples",children:"Integration Examples"}),"\n",(0,n.jsx)(r.h3,{id:"react-example",children:"React Example"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { useEffect, useState } from "react";\r\nimport { fakelab } from "fakelab/browser";\r\nimport type { User } from "./types/user";\r\n\r\nfunction UserList() {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n\r\n  useEffect(() => {\r\n    async function loadUsers() {\r\n      const data = await fakelab.fetch<User[]>("User", 10);\r\n      setUsers(data);\r\n    }\r\n    loadUsers();\r\n  }, []);\r\n\r\n  return (\r\n    <ul>\r\n      {users.map((user) => (\r\n        <li key={user.id}>{user.name}</li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\n'})}),"\n",(0,n.jsx)(r.h3,{id:"vue-example",children:"Vue Example"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-vue",children:'<template>\r\n  <ul>\r\n    <li v-for="user in users" :key="user.id">\r\n      {{ user.name }}\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script setup lang="ts">\r\nimport { ref, onMounted } from "vue";\r\nimport { fakelab } from "fakelab/browser";\r\nimport type { User } from "./types/user";\r\n\r\nconst users = ref<User[]>([]);\r\n\r\nonMounted(async () => {\r\n  users.value = await fakelab.fetch<User[]>("User", 10);\r\n});\r\n<\/script>\n'})}),"\n",(0,n.jsx)(r.h3,{id:"nextjs-example",children:"Next.js Example"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'// app/users/page.tsx\r\nimport { fakelab } from "fakelab/browser";\r\nimport type { User } from "@/types/user";\r\n\r\nexport default async function UsersPage() {\r\n  const users = await fakelab.fetch<User[]>("User", 10);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Users</h1>\r\n      <ul>\r\n        {users.map((user) => (\r\n          <li key={user.id}>{user.name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,n.jsx)(r.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:'import { fakelab } from "fakelab/browser";\r\n\r\ntry {\r\n  const users = await fakelab.fetch("User", 10);\r\n  console.log(users);\r\n} catch (error) {\r\n  console.error("Failed to fetch users:", error);\r\n}\n'})}),"\n",(0,n.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"./database-mode",children:"Database Mode"})," - Learn more about database features"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"./network-simulation",children:"Network Simulation"})," - Simulate network conditions"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}}}]);