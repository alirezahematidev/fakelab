function copyAddressUrl() {
  var e = document.getElementById("request_address_url");
  try {
    navigator.clipboard.writeText(e.textContent);
  } catch (e) {
    console.info(e);
  }
}
function copyJsonCode() {
  var e = document.getElementById("source_code");
  try {
    navigator.clipboard.writeText(e.textContent);
  } catch (e) {
    console.info(e);
  }
}
function downloadJsonCode(e) {
  var t = document.getElementById("source_code").textContent.trim(),
    t = new Blob([t], { type: "application/json" });
  let n = URL.createObjectURL(t);
  var t = e.getAttribute("data-source-name"),
    o = new Date().toISOString().replace(/[:.]/g, "-");
  (e.download = t + `-${o}.json`),
    (e.href = n),
    setTimeout(() => {
      URL.revokeObjectURL(n), (e.download = ""), (e.href = "");
    });
}
function openSettings() {
  document.getElementById("setting_overlay").setAttribute("data-visible", "true");
}
function handleCloseSetting(e) {
  var t = document.getElementById("setting_overlay");
  e.target && !t.contains(e.target) && "overlay_trigger" !== e.target.id && t.setAttribute("data-visible", "false");
}
function submitForm(e) {
  e.preventDefault();
  var t = new Set(),
    e = new FormData(e.target).get("count")?.trim(),
    n = new URLSearchParams(),
    e = (e && 0 < Number(e) ? (n.set("count", e.toString()), (window.location.search = n.toString())) : (n.delete("count"), t.add("count")), t.has("count"));
  e && window.location.href.includes("?") && (([href] = window.location.href.split("?")), (window.location.href = href));
}
function resetForm(e) {
  e.preventDefault(),
    new URLSearchParams(window.location.search).delete("count"),
    window.location.href.includes("?") && (window.location.href = window.location.href.split("?")[0]);
}
window.addEventListener("click", handleCloseSetting),
  window.addEventListener("DOMContentLoaded", () => {
    var e = document.getElementById("count"),
      t = new URLSearchParams(window.location.search).get("count");
    t && (e.value = t);
  });
