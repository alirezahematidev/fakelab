function loadgqlEndpoint(){const e=document.getElementById("gql-script");return new Promise((t,n)=>{if(e){const r=e.getAttribute("data-address"),a=e.getAttribute("data-prefix");t(`${r}${a}/graphql`)}else n("graphql script failed to load.")})}async function copyGraphQLEndpoint(){if(typeof navigator<"u"){const e=await loadgqlEndpoint();navigator.clipboard.writeText(e)}}function copyGraphQLResult(){const e=document.getElementById("graphql-result"),t=e.textContent||e.innerText;t&&!t.includes("Execute a query")&&typeof navigator<"u"&&navigator.clipboard.writeText(t)}function clearGraphQLResult(){const e=document.getElementById("graphql-result");e.innerHTML='<div class="graphql-result-placeholder"><span>Execute a query to see results here</span></div>'}async function executeGraphQLQuery(){const e=document.getElementById("graphql-query-editor"),t=document.getElementById("graphql-result"),n=e.value.trim();if(!n){t.innerHTML='<div class="graphql-error">Please enter a GraphQL query</div>';return}t.innerHTML='<div class="graphql-result-placeholder"><span>Executing query...</span></div>';try{const r=await loadgqlEndpoint(),s=await(await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})})).json(),o=JSON.stringify(s,null,2);s.errors?t.innerHTML=`<pre class="graphql-error">${o}</pre>`:t.innerHTML=`<pre class="graphql-success">${o}</pre>`}catch(r){t.innerHTML=`<pre class="graphql-error">Error: ${r.message}</pre>`}}
