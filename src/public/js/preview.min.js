function copyAddressUrl(){const t=document.getElementById("request_address_url");try{navigator.clipboard.writeText(t.textContent)}catch(e){console.info(e)}}function copyJsonCode(){const t=document.getElementById("source_code");try{navigator.clipboard.writeText(t.textContent)}catch(e){console.info(e)}}function downloadJsonCode(t){const n=document.getElementById("source_code").textContent.trim(),a=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(a),c=t.getAttribute("data-source-name"),r=new Date().toISOString().replace(/[:.]/g,"-"),s=`${c}-${r}.json`;t.download=s,t.href=o,setTimeout(()=>{URL.revokeObjectURL(o),t.download="",t.href=""})}function openSettings(){document.getElementById("setting_overlay").setAttribute("data-visible","true")}function handleCloseSetting(t){const e=document.getElementById("setting_overlay");t.target&&!e.contains(t.target)&&t.target.id!=="overlay_trigger"&&e.setAttribute("data-visible","false")}function submitForm(t){t.preventDefault();const e=new Set,a=new FormData(t.target).get("count")?.trim(),o=new URLSearchParams;a&&Number(a)>0?(o.set("count",a.toString()),window.location.search=o.toString()):(o.delete("count"),e.add("count")),e.has("count")&&window.location.href.includes("?")&&([href]=window.location.href.split("?"),window.location.href=href)}function resetForm(t){t.preventDefault(),new URLSearchParams(window.location.search).delete("count"),window.location.href.includes("?")&&(window.location.href=window.location.href.split("?")[0])}window.addEventListener("click",handleCloseSetting),window.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("count"),n=new URLSearchParams(window.location.search).get("count");n&&(t.value=n)});
